(self["webpackChunkprimordial"]=self["webpackChunkprimordial"]||[]).push([[407],{5189:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});s(7280),s(5363);var r=s(6249),a=s(589),o=s(52),i=s.n(o),l=s(3701);const n="https://api.primordialconstrucaocivil.com.br/api/v1/",c={headers:{Accept:"application/json"}},u={setHeaders(e=!1){return c.headers["Content-Type"]="application/json",a.Z.getItem("user"),c.headers.Authorization=null,e&&(c.headers["Content-Type"]="multipart/form-data"),c},setResponse(e,t){const s=e.data.payload?e.data.payload:e.data;if(t){if(401===e.status&&window.location.replace("/"),"message"===e.data.type)return l.Z.patternNotify(e.data);if(e.status<200||e.status>299)return l.Z.error("Erro "+e.status+"! Entre em contato se persistir!")}return s},async get(e,t=!0,s=!0){t&&r.Z.show();const a=this.setHeaders(),o=await i().get(n+e,a);return r.Z.hide(),this.setResponse(o,s)},async post(e,t,s=!1,a=!0,o=!0){a&&r.Z.show();const l=this.setHeaders(s),c=await i().post(n+e,t,l);return r.Z.hide(),this.setResponse(c,o)}}},3701:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(6417);const a={patternNotify(e){var t=e.text,s="",a="",o=!1;return"error"===e.msgType?(o=!1,s="error",a="negative"):"warning"===e.msgType?(o=!1,s="warning",a="warning"):"success"===e.msgType&&(o=!0,s="done",a="positive"),r.Z.create({message:t,icon:s,color:a}),o},error(e){return r.Z.create({message:e,icon:"error",color:"negative"}),!1},warn(e){return r.Z.create({message:e,icon:"warning",color:"warning"}),!1},success(e){return r.Z.create({message:e,icon:"done",color:"positive"}),!0}}},3407:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var r=s(3673),a=s(828),o=s.n(a);const i={class:"row"},l={class:"col-12 q-pa-md"},n={class:"row justify-center"},c=(0,r.Wm)("div",{class:"col-12 col-md-3 q-px-md"},[(0,r.Wm)("img",{alt:"Logo",src:o(),style:{width:"100%"}})],-1),u={class:"col-12 col-md-3"},d={class:"q-pa-md flex flex-center",style:{height:"60vh"}},m={class:"row justify-center"},p={class:"row q-col-gutter-md"},g=(0,r.Uk)(" Acessar "),w={class:"col-12"},h={class:"col-12"},f={class:"col-12 row"};function Z(e,t,s,a,o,Z){const b=(0,r.up)("q-route-tab"),v=(0,r.up)("q-tabs"),y=(0,r.up)("q-card-section"),W=(0,r.up)("q-icon"),_=(0,r.up)("q-input"),q=(0,r.up)("q-btn"),x=(0,r.up)("q-form"),U=(0,r.up)("q-card"),k=(0,r.up)("q-page");return(0,r.wg)(),(0,r.j4)(k,null,{default:(0,r.w5)((()=>[(0,r.Wm)("section",null,[(0,r.Wm)("div",i,[(0,r.Wm)("div",l,[(0,r.Wm)("div",n,[c,(0,r.Wm)("div",u,[(0,r.Wm)(v,{"narrow-indicator":"",class:"text-black margin-menu",align:"left","no-caps":"",modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t)},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{ripple:!1,to:"/",name:"index",label:"Início"}),(0,r.Wm)(b,{ripple:!1,to:"/sobre",name:"equipe",label:"Sobre"}),(0,r.Wm)(b,{ripple:!1,to:"/contato",name:"contact",label:"Contato"})])),_:1},8,["modelValue"])])])])])]),(0,r.Wm)("div",d,[(0,r.Wm)("div",m,[(0,r.Wm)(U,{flat:"",class:"col-12 col-md-6 q-pa-md card-login bg-white"},{default:(0,r.w5)((()=>[(0,r.Wm)(x,{onSubmit:Z.userLogin},{default:(0,r.w5)((()=>[(0,r.Wm)("div",p,[(0,r.Wm)(y,{class:"text-center text-primary text-h3 q-mt-md text-weight-light col-12"},{default:(0,r.w5)((()=>[g])),_:1}),(0,r.Wm)("div",w,[(0,r.Wm)(_,{filled:"",type:"text",color:"primary",modelValue:o.credentials.usr_email,"onUpdate:modelValue":t[2]||(t[2]=e=>o.credentials.usr_email=e),label:"Email",ref:"usr_idUsr","hide-bottom-space":"",rules:[e=>!!e||"Obrigatório"]},{prepend:(0,r.w5)((()=>[(0,r.Wm)(W,{name:"mail"})])),_:1},8,["modelValue","rules"])]),(0,r.Wm)("div",h,[(0,r.Wm)(_,{filled:"",modelValue:o.credentials.usr_password,"onUpdate:modelValue":t[4]||(t[4]=e=>o.credentials.usr_password=e),color:"primary",ref:"usr_idUsr","hide-bottom-space":"",rules:[e=>!!e||"Obrigatório"],label:"Senha",type:o.isPwd?"password":"text"},{prepend:(0,r.w5)((()=>[(0,r.Wm)(W,{name:"lock"})])),append:(0,r.w5)((()=>[(0,r.Wm)(W,{name:o.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[3]||(t[3]=e=>o.isPwd=!o.isPwd)},null,8,["name"])])),_:1},8,["modelValue","rules","type"])]),(0,r.Wm)("div",f,[(0,r.Wm)(q,{class:"col-12",color:"primary",label:"Entrar",type:"submit"})])])])),_:1},8,["onSubmit"])])),_:1})])])])),_:1})}var b=s(5189),v=s(589),y=s(768);const W={isGuest(){let e=!0;return v.Z.has("user")&&(e=!1),e},getToken(){const e=v.Z.getItem("user");return e?e.token:null},getData(){const e=v.Z.getItem("user");return e&&e.user?e.user:null},setUserData(e){const t=v.Z.getItem("user");v.Z.remove("user"),t.user=e.user,v.Z.set("user",t),y.default.commit("userStorage/updateUser",v.Z.getItem("user"))},updateUser(e){v.Z.set("user",e)},reloadStorage(){y.default.commit("userStorage/updateUser",v.Z.getItem("user"))}},_={name:"login",data(){return{isPwd:"visibility_off",password:!1,credentials:{usr_email:null,usr_password:null}}},methods:{async userLogin(){const e=await b.Z.post("login",this.credentials);e&&(W.updateUser(e),this.$router.push("/painel/home"))}}};var q=s(4379),x=s(7547),U=s(2770),k=s(151),I=s(5269),Q=s(5589),V=s(1206),C=s(4554),S=s(8240),T=s(7518),j=s.n(T);_.render=Z;const P=_;j()(_,"components",{QPage:q.Z,QTabs:x.Z,QRouteTab:U.Z,QCard:k.Z,QForm:I.Z,QCardSection:Q.Z,QInput:V.Z,QIcon:C.Z,QBtn:S.Z})},828:(e,t,s)=>{e.exports=s.p+"img/logo-vert.13fda025.jpg"}}]);